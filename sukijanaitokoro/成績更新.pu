@startuml 成績更新シーケンス図

actor       "ユーザー"       as User
boundary    "成績更新画面"   as b3
boundary    "完了画面"       as b5
control     "入力内容を確認" as c1
control     "更新処理"       as c2
entity      "学生情報DB"     as e1

User -> b3: 成績更新ボタンを押下
b3   -> c1: 更新内容を送信

alt 入力が正しくない場合
    c1 -> b3: 「入力内容が不正です」と表示
else 入力が正しい場合
    c1 -> c2: 更新処理を実行
    c2 -> e1: 成績情報を更新
    e1 --> c2: 更新結果を返却

    alt 更新対象が存在しない場合
        c2 -> b3: 「該当データがありません」と表示
    else 更新対象が存在する場合
        alt 更新に失敗した場合
            c2 -> b3: 更新失敗メッセージを表示
        else 更新に成功した場合
            c2 -> b5: 完了画面を表示
        end
    end
end

@enduml